
<!doctype html>
<html lang="en">
<head>
	<title>How's My Kid</title>
	<meta charset="utf-8">
    <script src="https://www.gstatic.com/firebasejs/3.5.1/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.5.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.5.0/firebase-database.js"></script>
    <script src="js/jquery-3.0.0.js"></script>
    <script src="js/handlebars-v4.0.5.js"></script>
    
    <link rel="stylesheet" href="stories.css" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,400italic' rel='stylesheet' type='text/css'>
  	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  	<link rel="stylesheet" href="stories.css" type='text/css'>



</head>

<body>

 <div class="container cf">
    <header class="cf">
      <h1>Today's Story</h1>
      <span id="date"></span>
    </header>

    <!--Handlebars story template; don't know what to do with the dailyStoryID -->
    <script id="story-template" type="text/x-handlebars-template">
        <li>
            <p>{{dailyPhoto}}</p>
            Breakfast: {{bfastRating}}<br>
            Lunch: {{lunchRating}}<br>
            Dinner: {{dinnerRating}}<br>
            Henry's special moment: {{milestone}}<br>
            And btw: {{note}}<br>
            <p>submitted by:<br>{{name}}<p>
        </li>
    </script>
    <ul class="story">Today's Story
    </ul>
    <center>
    <img src="https://unsplash.it/200/300/?random" alt="hat">
    <img src="https://unsplash.it/200/300/?random" alt="hat">
    </center>


    <!--Handlebars story template -->
        <script id="comment-template" type="text/x-handlebars-template">
              <p>{{dailyPhoto}}</p>
                  <p>{{bfastRating}}</p>
                  <p>{{lunchRating}}</p>
                  <p>{{dinnerRating}}</p>
                  <p>{{milestone}}</p>
                  <p>{{note}}</p>
        </script>    

    <ul class="comments">
    </ul>
    <span><form id="comment-form" class="cf">
        <input id="comment" type="text" placeholder="Leave a comment" required> <button>Add Comment</button>
    </form>
    </span>
  </div>


  <script>  //by default a form submit reloads the DOM which will subsequently reload all our JS
  // to avoid this we preventDefault()
        $('#comment-form').on('click', function(event) {
            event.preventDefault();

            // grab user's comment from input field
            var userInput = $('#comment').val();
            
            // clear the user's comment from the input (for UX purposes)
            $('#comment').val('')

            // create a section for comments data in your db
            var commentsReference = database.ref('comments');

            // use the set method to save data to the comments
            commentsReference.push(
                {
                comment: userInput,
                likes: 0
                }
            );
        });
</script>


<!-- Handlebars Template; -->
    <script id="comment-template" type="text/x-handlebars-template">
      <li data-id="{{commentId}}">
          <span id="likes">{{likes}}</span>
          <p>{{comment}}</p>
          <i class="fa fa-trash delete"></i>
          <i class="fa fa-heart-o like"></i>
      </li>
    </script>



<!-- Firebase CDN -->
 
<script src="js/handlebars-v4.0.5.js"></script>
<script src="https://www.gstatic.com/firebasejs/3.5.1/firebase.js"></script>
<script src="js/jquery-3.0.0.js"></script>

<!-- Main js file -->
<script src="stories.js"></script>

</body>

</html>
